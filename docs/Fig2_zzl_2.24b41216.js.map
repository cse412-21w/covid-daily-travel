{"version":3,"sources":["Fig2_zzl_2.js"],"names":["margin","top","bottom","left","right","width","height","margin_line","width_line","height_line","htmlCategory","mapping","title","pop_rate","area_rate","unemployment_rate","NumberOfTrips","codename","categorySelector","options","mapsvg","d3","select","append","attr","projection","geoAlbersUsa","path","geoPath","color","scaleSequential","interpolateBlues","parseTime","timeParse","parseTime_2","active","x","scaleTime","range","y","scaleLinear","svg","xAxis","axisBottom","tickFormat","timeFormat","wrapper","drawLine","name","csv","then","data","forEach","dat","date","Date","State_Code","State_Name","valueline","line","d","domain","extent","style","call","selectAll","axisLeft","text","datum","filter","drawLine_area_rate","transition","ease","easeLinear","drawLine_unemployment_rate","month","drawLine_NumberOfTrips","reset","remove","draw_initial","state","on","category","json","us","states","topojson","feature","objects","features","nation","fitSize","map","properties","value","Math","random","enter","html","paths","join","p","raise","i","console","log"],"mappings":"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","file":"Fig2_zzl_2.24b41216.js","sourceRoot":"../src","sourcesContent":["//Define Variables\nvar margin = {top: 10, bottom: 10, left: 100, right: 100},\n     width = 800 - margin.left - margin.right,\n    height = 300 - margin.top - margin.bottom;\n\nvar margin_line = {top: 0, right: 20, bottom: 50, left: 70},\n    width_line = 800 - margin_line.left/1.5 - margin_line.right,\n    height_line = 320 - margin_line.top - margin_line.bottom;\n\nvar htmlCategory = (function(){\n  var mapping = {\n        title: 'category',\n        pop_rate: 'Stay-Home Rate',\n        area_rate: 'Stay-Home Density',\n        unemployment_rate: 'unemployment Change',\n        NumberOfTrips: 'Total Trips'\n  };\n  return function(codename){\n    return mapping[codename];\n  };\n})();\n\nvar categorySelector = {};\nvar options = ['pop_rate', 'area_rate', 'unemployment_rate', 'NumberOfTrips'];\n\n// Creates sources Mapsvg element \nconst mapsvg = d3\n        .select(\"#map-wrapper\")\n        .append(\"svg\")\n        .attr(\"width\", width + margin.left + margin.right)\n        .attr(\"height\", height + margin.top + margin.bottom)\n        .append(\"g\")\n        .attr(\"transform\", `translate(${margin.left}, ${margin.top})`);\n\nconst projection = d3.geoAlbersUsa();\nconst path = d3.geoPath(projection);\nconst color = d3.scaleSequential(d3.interpolateBlues);\n\n// parse the date / time\nvar parseTime = d3.timeParse(\"%Y/%m/%d\");\nvar parseTime_2 = d3.timeParse(\"%m\");\nvar active = d3.select(null);\n\n// set the ranges\nvar x = d3.scaleTime().range([0, width_line]);\nvar y = d3.scaleLinear().range([height_line,0+10]);\n\n//creates line chart svg elements\nvar svg = d3.select(\"#line\")\n            .append(\"svg\")\n              .attr(\"width\", width_line + margin_line.left + margin_line.right)\n              .attr(\"height\", height_line + margin_line.top + margin_line.bottom)\n            .append(\"g\")\n              .attr(\"transform\", \"translate(\" + margin_line.left + \",\" + margin_line.top + \")\");\n              // var name = d.name;\n              // for debug\n              // console.log(print, i.name);\n\nvar xAxis = d3.axisBottom(x)\n              .tickFormat(d3.timeFormat(\"%b\"));\n\nvar wrapper = d3.select('#Category-selector');\n\nfunction drawLine(name){\n\n  d3.csv(\"line_test.csv\").then(function(data) {\n    data.forEach(function(dat) {\n    dat.date = parseTime(dat.Date);\n    dat.pop_rate = dat.pop_rate;\n    dat.State_Code = dat.State_Code;\n    dat.State_Name = dat.State_Name;\n  });\n\n  var valueline = d3.line()\n  .x(function(d) { return x(d.date); })\n  .y(function(d) { return y(d.pop_rate); });\n                                          \n  x.domain(d3.extent(data, function(d) { return d.date; }));\n  y.domain(d3.extent(data, function(d) { return d.pop_rate; }));\n  \n  // Add the X Axis\n  svg.append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + height_line + \")\")\n  .style(\"color\", \"rgb(110,255,224)\")\n  .style('font-size', 13)\n  .style('font-family', 'Tahoma')\n  .call(xAxis)\n  .selectAll(\"text\") \n  .style(\"text-anchor\", \"middle\")\n  .attr(\"transform\", \"translate(35,0)\");\n\n  // Add the Y Axis\n  svg.append(\"g\").call(d3.axisLeft(y))\n  .style(\"color\", \"rgb(110,255,224)\")\n  .style('font-size', 13)\n  .style('font-family', 'Tahoma')\n\n  //text label for the y axis\n  svg.append(\"text\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"y\", 0 - margin_line.left)\n      .attr(\"x\",0 - (height_line / 2))\n      .attr(\"dy\", \"1em\")\n      .style(\"text-anchor\", \"middle\")\n      .style(\"fill\", \"rgb(255,103,242)\")\n      .style(\"text-shadow\",\"0 0 3px #fff\")\n      .text(\"Number of trips / Population (#/person)\");\n\n  // text label for the x axis\n  svg.append(\"text\")             \n      .attr(\"transform\",\"translate(\" + (width_line/2) + \" ,\" + (height_line + margin_line.top + 35) + \")\")\n      .style(\"text-anchor\", \"middle\")\n      .style(\"fill\", \"rgb(255,103,242)\")\n      .style(\"text-shadow\",\"0 0 3px #fff\")\n      .text(\"Date\");\n\n  svg.append(\"text\")                \n        .attr(\"x\", 570)\n        .attr(\"y\", 40)\n        .style(\"text-anchor\", \"middle\")\n        .style(\"font-size\", \"40px\")\n        .style(\"fill\",\"rgb(255,103,242)\")\n        .style(\"text-shadow\",\"0 0 5px #fff, 0 0 10px #fff, 0 0 15px #ff67f2, 0 0 20px #ff67f2\")\n        .text(name);\n\n  // Add the valueline path.\n  svg.append(\"path\")\n  .data([data])\n  .datum(data.filter(function(d){return d.State_Name == name}))\n  .attr('fill','none')\n  .attr(\"class\", \"line\")\n  .style(\"stroke\", \"#ef5cff\")\n  .style(\"stroke-width\", \"2.1px\")\n  .attr(\"d\", valueline);\n  });\n};\n\nfunction drawLine_area_rate(name){\n  d3.csv(\"line_test.csv\").then(function(data) {\n    data.forEach(function(dat) {\n    dat.date = parseTime(dat.Date);\n    dat.area_rate = dat.area_rate;\n    dat.State_Code = dat.State_Code;\n    dat.State_Name = dat.State_Name;\n  });\n\n  var valueline = d3.line()\n    .x(function(d) { return x(d.date); })\n    .y(function(d) { return y(d.area_rate); });\n                                          \n  x.domain(d3.extent(data, function(d) { return d.date; }));\n  y.domain(d3.extent(data, function(d) { return d.area_rate; }));\n  \n  // Add the X Axis\n  svg.append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + height_line + \")\")\n  .style(\"color\", \"rgb(110,255,224)\")\n  .style('font-size', 13)\n  .style('font-family', 'Tahoma')\n  .call(xAxis)\n  .selectAll(\"text\") \n  .style(\"text-anchor\", \"middle\")\n  .attr(\"transform\", \"translate(35,0)\");\n\n  // Add the Y Axis\n  svg.append(\"g\").call(d3.axisLeft(y))\n    .style(\"color\", \"rgb(110,255,224)\")\n    .style('font-size', 13)\n    .style('font-family', 'Tahoma');\n\n  //text label for the y axis\n  svg.append(\"text\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"y\", 0 - margin_line.left)\n      .attr(\"x\",0 - (height_line / 2))\n      .attr(\"dy\", \"1em\")\n      .style(\"text-anchor\", \"middle\")\n      .style(\"fill\", \"rgb(255,103,242)\")\n      .style(\"text-shadow\",\"0 0 3px #fff\")\n      .text(\"Number of trips / Area (#/mi^2)\");\n\n  // text label for the x axis\n  svg.append(\"text\")             \n      .attr(\"transform\",\"translate(\" + (width_line/2) + \" ,\" + (height_line + margin_line.top + 35) + \")\")\n      .style(\"text-anchor\", \"middle\")\n      .style(\"fill\", \"rgb(255,103,242)\")\n      .style(\"text-shadow\",\"0 0 3px #fff\")\n      .text(\"Date\");\n\n  svg.append(\"text\")                \n        .attr(\"x\", 570)\n        .attr(\"y\", 40)\n        .style(\"text-anchor\", \"middle\")\n        .style(\"font-size\", \"40px\")\n        .style(\"fill\",\"rgb(255,103,242)\")\n        .style(\"text-shadow\",\"0 0 5px #fff, 0 0 10px #fff, 0 0 15px #ff67f2, 0 0 20px #ff67f2\")\n        .text(name);\n\n  // Add the valueline path.\n  svg.append(\"path\")\n  .data([data])\n  .datum(data.filter(function(d){return d.State_Name == name}))\n  .attr('fill','none')\n  .attr(\"class\", \"line\")\n  .style(\"stroke\", \"#ef5cff\")\n  .style(\"stroke-width\", \"2.1px\")\n  .attr(\"d\", valueline)\n  .transition()\n  .ease(d3.easeLinear);\n  }) \n};\n\nfunction drawLine_unemployment_rate(name){\n  d3.csv(\"line_test.csv\").then(function(data) {\n    data.forEach(function(dat) {\n    dat.month = parseTime_2(dat.month);\n    dat.unemployment_rate = dat.unemployment_rate/100;\n    dat.State_Code = dat.State_Code;\n    dat.State_Name = dat.State_Name;\n  });\n\n  var valueline = d3.line()\n    .x(function(d) { return x(d.month); })\n    .y(function(d) { return y(d.unemployment_rate); });\n                                          \n  x.domain(d3.extent(data, function(d) { return d.month; }));\n  y.domain(d3.extent(data, function(d) { return d.unemployment_rate; }));\n  \n  // Add the X Axis\n  svg.append(\"g\")\n      .attr(\"transform\", \"translate(0,\" + height_line + \")\")\n      .style(\"color\", \"rgb(110,255,224)\")\n      .style('font-size', 13)\n      .style('font-family', 'Tahoma')\n      .call(xAxis);\n\n  // Add the Y Axis\n  svg.append(\"g\").call(d3.axisLeft(y))\n    .style(\"color\", \"rgb(110,255,224)\")\n    .style('font-size', 13)\n    .style('font-family', 'Tahoma');\n\n  //text label for the y axis\n  svg.append(\"text\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"y\", 0 - margin_line.left)\n      .attr(\"x\",0 - (height_line / 2))\n      .attr(\"dy\", \"1em\")\n      .style(\"text-anchor\", \"middle\")\n      .style(\"fill\", \"rgb(255,103,242)\")\n      .style(\"text-shadow\",\"0 0 3px #fff\")\n      .text(\"Unemployment Rate (%)\");\n\n  // text label for the x axis\n  svg.append(\"text\")             \n      .attr(\"transform\",\"translate(\" + (width_line/2) + \" ,\" + (height_line + margin_line.top + 35) + \")\")\n      .style(\"text-anchor\", \"middle\")\n      .style(\"fill\", \"rgb(255,103,242)\")\n      .style(\"text-shadow\",\"0 0 3px #fff\")\n      .text(\"Date\");\n\n  svg.append(\"text\")                // text label for the x axis\n        .attr(\"x\", 570)\n        .attr(\"y\", 40)\n        .style(\"text-anchor\", \"middle\")\n        .style(\"font-size\", \"40px\")\n        .style(\"fill\",\"rgb(255,103,242)\")\n        .style(\"text-shadow\",\"0 0 5px #fff, 0 0 10px #fff, 0 0 15px #ff67f2, 0 0 20px #ff67f2\")\n        .text(name);\n\n  // Add the valueline path.\n  svg.append(\"path\")\n  .data([data])\n  .datum(data.filter(function(d){return d.State_Name == name}))\n  .attr('fill','none')\n  .attr(\"class\", \"line\")\n  .style(\"stroke\", \"#ef5cff\")\n  .style(\"stroke-width\", \"2.1px\")\n  .attr(\"d\", valueline)\n  .transition()\n  .ease(d3.easeLinear);\n  }) \n};\n\nfunction drawLine_NumberOfTrips(name){\n  d3.csv(\"line_test.csv\").then(function(data) {\n    data.forEach(function(dat) {\n    dat.date = parseTime(dat.Date);\n    dat.NumberOfTrips = dat.NumberOfTrips/1000000;\n    dat.State_Code = dat.State_Code;\n    dat.State_Name = dat.State_Name;\n  });\n\n  var valueline = d3.line()\n    .x(function(d) { return x(d.date);})\n    .y(function(d) { return y(d.NumberOfTrips); });\n\n  x.domain(d3.extent(data, function(d) { return d.date; }));\n  y.domain(d3.extent(data, function(d) { return d.NumberOfTrips; }));\n  \n  // Add the X Axis\n  svg.append(\"g\")\n  .attr(\"transform\", \"translate(0,\" + height_line + \")\")\n  .style(\"color\", \"rgb(110,255,224)\")\n  .style('font-size', 13)\n  .style('font-family', 'Tahoma')\n  .call(xAxis)\n  .selectAll(\"text\") \n  .style(\"text-anchor\", \"middle\")\n  .attr(\"transform\", \"translate(35,0)\");\n\n  // Add the Y Axis\n  svg.append(\"g\").call(d3.axisLeft(y))\n    .style(\"color\", \"rgb(110,255,224)\")\n    .style('font-size', 13)\n    .style('font-family', 'Tahoma');\n\n  //text label for the y axis\n  svg.append(\"text\")\n      .attr(\"transform\", \"rotate(-90)\")\n      .attr(\"y\", 0 - margin_line.left)\n      .attr(\"x\",0 - (height_line / 2))\n      .attr(\"dy\", \"1em\")\n      .style(\"text-anchor\", \"middle\")\n      .style(\"fill\", \"rgb(255,103,242)\")\n      .style(\"text-shadow\",\"0 0 3px #fff\")\n      .text(\"Number of trips (Millions)\");\n\n  // text label for the x axis\n  svg.append(\"text\")             \n      .attr(\"transform\",\"translate(\" + (width_line/2) + \" ,\" + (height_line + margin_line.top + 35) + \")\")\n      .style(\"text-anchor\", \"middle\")\n      .style(\"fill\", \"rgb(255,103,242)\")\n      .style(\"text-shadow\",\"0 0 3px #fff\")\n      .text(\"Date\");\n\n  svg.append(\"text\")                // text label for the x axis\n        .attr(\"x\", 570)\n        .attr(\"y\", 40)\n        .style(\"text-anchor\", \"middle\")\n        .style(\"font-size\", \"40px\")\n        .style(\"fill\",\"rgb(255,103,242)\")\n        .style(\"text-shadow\",\"0 0 5px #fff, 0 0 10px #fff, 0 0 15px #ff67f2, 0 0 20px #ff67f2\")\n        .text(name);\n\n  // Add the valueline path.\n  svg.append(\"path\")\n  .data([data])\n  .datum(data.filter(function(d){return d.State_Name == name}))\n  .attr('fill','none')\n  .attr(\"class\", \"line\")\n  .style(\"stroke\", \"#ef5cff\")\n  .style(\"stroke-width\", \"2.1px\")\n  .attr(\"d\", valueline)\n  .transition()\n  .ease(d3.easeLinear);\n  /*\n   * Glow effects (Optional)\n   */\n    // const defs = svg.append('defs')\n    // const glowDeviation = '4.5'\n\n    // // Filter for the outside glow\n    // const filter = defs.append('filter').attr('id', 'glow')\n    // filter.append('feGaussianBlur')\n    //     .attr('stdDeviation', glowDeviation)\n    //     .attr('result', 'coloredBlur')\n        \n    // const feMerge = filter.append('feMerge')\n    // feMerge.append('feMergeNode').attr('in', 'coloredBlur')\n    // feMerge.append('feMergeNode').attr('in', 'SourceGraphic')\n\n    // // Add the glow!!\n    // d3.selectAll('.glowed').style('filter', 'url(#glow)')\n  }) \n};\n\nfunction reset(){\n  svg.selectAll(\"path\").remove();\n  svg.selectAll(\"g\").remove();\n  svg.selectAll(\"text\").remove();\n};\n\nfunction draw_initial(state){\n    drawLine(state);\n    wrapper.selectAll('div')\n           .data(options)\n           .on('click', function(d,category) {\n                if(category==\"pop_rate\"){\n                  reset();\n                  drawLine(state);\n                };\n                if(category == \"area_rate\"){\n                  reset();\n                  drawLine_area_rate(state);\n                };\n                if(category == \"unemployment_rate\"){\n                  reset();\n                  drawLine_unemployment_rate(state);\n                };\n                if(category == \"NumberOfTrips\"){\n                  reset();\n                  drawLine_NumberOfTrips(state);\n                };\n            });\n};\n\n//main comes from here\nd3.json(\"https://cdn.jsdelivr.net/npm/us-atlas/states-10m.json\").then((us) => {\n        const states = topojson.feature(us, us.objects.states).features;\n        const nation = topojson.feature(us, us.objects.nation).features[0];\n\n        // scale to fit bounds\n  projection.fitSize([width, height], nation);\n\n  const data = states.map((feature) => ({\n            feature: feature,\n            name: feature.properties.name,\n            value: Math.random(), // random value\n          }));\n  \n  wrapper.selectAll('div')\n         .data(options)\n         .enter().append('div')\n         .attr('class', function(d) {\n          return 'category ' + d;\n        })\n         .html(function(d) {\n          return htmlCategory(d);\n        })\n\n  const paths = mapsvg.attr(\"class\", \"state\")\n            .selectAll(\"path\")\n            .data(data)\n            .join(\n              (enter) => {\n                const p = enter.append(\"path\");\n                p.on(\"mouseenter\", function () {\n                  // move the SVG element after all other elements to be on the top\n                    d3.select(this).raise();\n                  });\n                p.append(\"title\");\n                return p;\n              })\n            .attr(\"d\", (d) => path(d.feature))\n            .attr(\"fill\", \"black\")\n            .style(\"stroke\", \"rgb(110,255,224)\")\n            .style(\"stroke-width\", \"2px\")\n            .on(\"mouseover\",function(d,i){\n              d3.select(this)\n                .attr(\"fill\",\"rgb(255,103,242)\");\n            })\n            .on(\"mouseout\",function(d,i){\n              d3.select(this)\n                .attr(\"fill\", \"black\");\n            })\n            .on(\"click\", function(d,i){\n              //for debug\n              //console.log(print, i.name);\n              wrapper.selectAll('div')\n                     .data(options)\n                     .on('click', function(d,category) {\n                        if(category==\"pop_rate\"){\n                          //draw initial plot\n                          reset();\n                          drawLine(i.name);\n                        };\n                        if(category==\"area_rate\"){\n                          //draw initial plot\n                          reset();\n                          drawLine_area_rate(i.name);\n                        };\n                        if(category==\"unemployment_rate\"){\n                          //draw initial plot\n                          reset();\n                          drawLine_unemployment_rate(i.name);\n                        };\n                        if(category==\"NumberOfTrips\"){\n                          //draw initial plot\n                          reset();\n                          drawLine_NumberOfTrips(i.name);\n                      };\n                      });\n            }); \n  //draw initial plot\n  draw_initial(\"Washington\");\n  //d3.selectAll(\"path\").transition().duration(1000).ease(d3.easeLinear)\n\n  paths.select(\"title\").text((d) => d.name);\n\n  d3.selectAll(\"path.state\").on(\"click\", function(d) {\n\n    console.log(d3.select(d));\n\n  });\n})"]}